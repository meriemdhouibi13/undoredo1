<div class="app-container">
  <h1>Angular Text Editor with Undo/Redo</h1>
  <p>Try selecting text and using the formatting buttons. You can undo/redo your changes.</p>
  
  <div class="editor-container">
    <div class="toolbar">
      <button 
        [disabled]="!canUndo" 
        (click)="undo()"
        title="Undo">
        Undo
      </button>
      <button 
        [disabled]="!canRedo" 
        (click)="redo()"
        title="Redo">
        Redo
      </button>
      <button (click)="clearHistory()">Clear History</button>
      
      <div class="formatting-buttons">
        <button (click)="formatBold()" title="Make text bold">Bold</button>
        <button (click)="formatItalic()" title="Make text italic">Italic</button>
        <button (click)="formatHeading()" title="Insert heading">Heading</button>
      </div>
    </div>
    
    <textarea
      #editor
      [(ngModel)]="editorContent"
      (ngModelChange)="onTextChange($event)"
      (click)="onSelectionChange($event)"
      (keyup)="onSelectionChange($event)"
      (mouseup)="onSelectionChange($event)"
      rows="15"
      placeholder="Start typing here...">
    </textarea>
    
    <div class="status-bar">
      <div class="formatting-help">
        <strong>Formatting guide:</strong>
        <span><strong>**Bold**</strong> for bold text,</span>
        <span><em>_Italic_</em> for italic text,</span>
        <span># Heading for headings</span>
      </div>
    </div>
    
    <div class="debug-info">
      <strong>Debug Info:</strong> {{ debugInfo }}
      <div>Can Undo: {{ canUndo }} | Can Redo: {{ canRedo }}</div>
    </div>
  </div>
</div>